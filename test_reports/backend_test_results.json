{
  "timestamp": "2025-09-24T06:15:47.438575",
  "total_tests": 21,
  "passed_tests": 17,
  "success_rate": 80.95238095238095,
  "test_details": [
    {
      "test": "Login with invalid code (should fail)",
      "success": true,
      "details": "Should return 401",
      "timestamp": "2025-09-24T06:15:46.917879"
    },
    {
      "test": "Login with valid code 1970",
      "success": true,
      "details": "",
      "timestamp": "2025-09-24T06:15:46.957052"
    },
    {
      "test": "Token received",
      "success": true,
      "details": "",
      "timestamp": "2025-09-24T06:15:46.957063"
    },
    {
      "test": "Role is doctor",
      "success": true,
      "details": "",
      "timestamp": "2025-09-24T06:15:46.957067"
    },
    {
      "test": "Get all CIE-10 codes",
      "success": true,
      "details": "Found 45 codes",
      "timestamp": "2025-09-24T06:15:46.994953"
    },
    {
      "test": "Search CIE-10 codes",
      "success": true,
      "details": "Found 1 results for 'J00'",
      "timestamp": "2025-09-24T06:15:47.035993"
    },
    {
      "test": "Create patient",
      "success": true,
      "details": "Patient ID: 2e8e8e50-b79f-4db7-9533-b51ecfc26aa4",
      "timestamp": "2025-09-24T06:15:47.075402"
    },
    {
      "test": "Automatic age calculation",
      "success": true,
      "details": "Age: 7, Expected: ~7",
      "timestamp": "2025-09-24T06:15:47.075417"
    },
    {
      "test": "Automatic BMI calculation",
      "success": true,
      "details": "BMI: 21.07",
      "timestamp": "2025-09-24T06:15:47.075427"
    },
    {
      "test": "Nutritional status calculation",
      "success": true,
      "details": "Status: normal",
      "timestamp": "2025-09-24T06:15:47.075431"
    },
    {
      "test": "Get all patients",
      "success": true,
      "details": "Found 2 patients",
      "timestamp": "2025-09-24T06:15:47.112194"
    },
    {
      "test": "Get specific patient",
      "success": true,
      "details": "",
      "timestamp": "2025-09-24T06:15:47.151591"
    },
    {
      "test": "Update patient",
      "success": true,
      "details": "",
      "timestamp": "2025-09-24T06:15:47.188193"
    },
    {
      "test": "BMI recalculation on update",
      "success": true,
      "details": "",
      "timestamp": "2025-09-24T06:15:47.188204"
    },
    {
      "test": "Add medical appointment",
      "success": true,
      "details": "",
      "timestamp": "2025-09-24T06:15:47.223928"
    },
    {
      "test": "Add lab analysis",
      "success": true,
      "details": "",
      "timestamp": "2025-09-24T06:15:47.260249"
    },
    {
      "test": "Delete patient",
      "success": true,
      "details": "",
      "timestamp": "2025-09-24T06:15:47.297159"
    },
    {
      "test": "Create medication",
      "success": false,
      "details": "Response: {'detail': [{'type': 'missing', 'loc': ['body', 'costo_base'], 'msg': 'Field required', 'input': {'nombre': 'Paracetamol Pedi\u00e1trico', 'descripcion': 'Analg\u00e9sico y antipir\u00e9tico para ni\u00f1os', 'stock': 50, 'precio': 25.5, 'categoria': 'Analg\u00e9sicos', 'indicaciones': 'Fiebre y dolor leve a moderado', 'contraindicaciones': 'Hipersensibilidad al paracetamol', 'dosis_pediatrica': '10-15 mg/kg cada 6-8 horas'}, 'url': 'https://errors.pydantic.dev/2.11/v/missing'}]}",
      "timestamp": "2025-09-24T06:15:47.332534"
    },
    {
      "test": "Access patients without token (should fail)",
      "success": false,
      "details": "",
      "timestamp": "2025-09-24T06:15:47.365469"
    },
    {
      "test": "Access medications without token (should fail)",
      "success": false,
      "details": "",
      "timestamp": "2025-09-24T06:15:47.404113"
    },
    {
      "test": "Access CIE-10 without token (should fail)",
      "success": false,
      "details": "",
      "timestamp": "2025-09-24T06:15:47.438557"
    }
  ]
}