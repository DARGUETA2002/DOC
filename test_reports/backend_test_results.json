{
  "timestamp": "2025-09-24T06:18:34.499443",
  "total_tests": 51,
  "passed_tests": 51,
  "success_rate": 100.0,
  "test_details": [
    {
      "test": "Login with invalid code (should fail)",
      "success": true,
      "details": "Should return 401",
      "timestamp": "2025-09-24T06:18:31.604824"
    },
    {
      "test": "Login with valid code 1970",
      "success": true,
      "details": "",
      "timestamp": "2025-09-24T06:18:32.659735"
    },
    {
      "test": "Token received",
      "success": true,
      "details": "",
      "timestamp": "2025-09-24T06:18:32.659746"
    },
    {
      "test": "Role is doctor",
      "success": true,
      "details": "",
      "timestamp": "2025-09-24T06:18:32.659750"
    },
    {
      "test": "Get all CIE-10 codes",
      "success": true,
      "details": "Found 45 codes",
      "timestamp": "2025-09-24T06:18:32.696231"
    },
    {
      "test": "Search CIE-10 codes",
      "success": true,
      "details": "Found 1 results for 'J00'",
      "timestamp": "2025-09-24T06:18:32.736750"
    },
    {
      "test": "Auto-classify 'fiebre' -> R50",
      "success": true,
      "details": "",
      "timestamp": "2025-09-24T06:18:32.772062"
    },
    {
      "test": "Chapter classification for R50",
      "success": true,
      "details": "Chapter: Cap\u00edtulo XVIII \u2013 S\u00edntomas, signos y hallazgos anormales (R00-R99)",
      "timestamp": "2025-09-24T06:18:32.772078"
    },
    {
      "test": "Auto-classify 'diarrea' -> A09",
      "success": true,
      "details": "",
      "timestamp": "2025-09-24T06:18:32.812392"
    },
    {
      "test": "Chapter classification for A09",
      "success": true,
      "details": "Chapter: Cap\u00edtulo I \u2013 Ciertas enfermedades infecciosas y parasitarias (A00-B99)",
      "timestamp": "2025-09-24T06:18:32.812406"
    },
    {
      "test": "Auto-classify 'asma' -> J45",
      "success": true,
      "details": "",
      "timestamp": "2025-09-24T06:18:33.188221"
    },
    {
      "test": "Chapter classification for J45",
      "success": true,
      "details": "Chapter: Cap\u00edtulo X \u2013 Enfermedades del sistema respiratorio (J00-J99)",
      "timestamp": "2025-09-24T06:18:33.188233"
    },
    {
      "test": "Auto-classify 'otitis' -> H66",
      "success": true,
      "details": "",
      "timestamp": "2025-09-24T06:18:33.225246"
    },
    {
      "test": "Chapter classification for H66",
      "success": true,
      "details": "Chapter: Cap\u00edtulo VII \u2013 Enfermedades del ojo y del o\u00eddo (H00-H95)",
      "timestamp": "2025-09-24T06:18:33.225257"
    },
    {
      "test": "Auto-classify 'bronquitis' -> J20",
      "success": true,
      "details": "",
      "timestamp": "2025-09-24T06:18:33.289906"
    },
    {
      "test": "Chapter classification for J20",
      "success": true,
      "details": "Chapter: Cap\u00edtulo X \u2013 Enfermedades del sistema respiratorio (J00-J99)",
      "timestamp": "2025-09-24T06:18:33.289918"
    },
    {
      "test": "Create patient",
      "success": true,
      "details": "Patient ID: f9cbaddd-b8d4-4be6-bca3-a728e4c38f24",
      "timestamp": "2025-09-24T06:18:33.393083"
    },
    {
      "test": "Automatic age calculation",
      "success": true,
      "details": "Age: 7, Expected: ~7",
      "timestamp": "2025-09-24T06:18:33.393100"
    },
    {
      "test": "Automatic BMI calculation",
      "success": true,
      "details": "BMI: 21.07",
      "timestamp": "2025-09-24T06:18:33.393108"
    },
    {
      "test": "Nutritional status calculation",
      "success": true,
      "details": "Status: normal",
      "timestamp": "2025-09-24T06:18:33.393112"
    },
    {
      "test": "Get all patients",
      "success": true,
      "details": "Found 2 patients",
      "timestamp": "2025-09-24T06:18:33.429495"
    },
    {
      "test": "Get specific patient",
      "success": true,
      "details": "",
      "timestamp": "2025-09-24T06:18:33.465351"
    },
    {
      "test": "Update patient",
      "success": true,
      "details": "",
      "timestamp": "2025-09-24T06:18:33.531094"
    },
    {
      "test": "BMI recalculation on update",
      "success": true,
      "details": "",
      "timestamp": "2025-09-24T06:18:33.531107"
    },
    {
      "test": "Add medical appointment",
      "success": true,
      "details": "",
      "timestamp": "2025-09-24T06:18:33.571750"
    },
    {
      "test": "Add lab analysis",
      "success": true,
      "details": "",
      "timestamp": "2025-09-24T06:18:33.609429"
    },
    {
      "test": "Delete patient",
      "success": true,
      "details": "",
      "timestamp": "2025-09-24T06:18:33.646037"
    },
    {
      "test": "Treatment field creation",
      "success": true,
      "details": "Treatment: Amoxicilina 250mg cada 8 horas por 7 d\u00edas, abundan...",
      "timestamp": "2025-09-24T06:18:33.708819"
    },
    {
      "test": "Auto CIE-10 from diagnosis",
      "success": true,
      "details": "Code: J20",
      "timestamp": "2025-09-24T06:18:33.708830"
    },
    {
      "test": "CIE-10 chapter assignment",
      "success": true,
      "details": "Chapter: Cap\u00edtulo X \u2013 Enfermedades del sistema respiratorio...",
      "timestamp": "2025-09-24T06:18:33.708835"
    },
    {
      "test": "Create medication",
      "success": true,
      "details": "Medication ID: dfda00ba-2ee7-446a-96b2-9bab034f5a7c",
      "timestamp": "2025-09-24T06:18:33.785164"
    },
    {
      "test": "Get all medications",
      "success": true,
      "details": "Found 4 medications",
      "timestamp": "2025-09-24T06:18:33.822977"
    },
    {
      "test": "Search medications",
      "success": true,
      "details": "Found 2 results",
      "timestamp": "2025-09-24T06:18:33.859199"
    },
    {
      "test": "Update medication stock",
      "success": true,
      "details": "",
      "timestamp": "2025-09-24T06:18:33.895021"
    },
    {
      "test": "Price calculation endpoint",
      "success": true,
      "details": "",
      "timestamp": "2025-09-24T06:18:33.931939"
    },
    {
      "test": "25% margin guarantee",
      "success": true,
      "details": "Margin: 25.0%, Expected: ~25%",
      "timestamp": "2025-09-24T06:18:33.931955"
    },
    {
      "test": "Price field 'costo_real' present",
      "success": true,
      "details": "Value: 23.0",
      "timestamp": "2025-09-24T06:18:33.931963"
    },
    {
      "test": "Price field 'precio_base' present",
      "success": true,
      "details": "Value: 30.67",
      "timestamp": "2025-09-24T06:18:33.931968"
    },
    {
      "test": "Price field 'precio_publico' present",
      "success": true,
      "details": "Value: 34.07",
      "timestamp": "2025-09-24T06:18:33.931971"
    },
    {
      "test": "Price field 'precio_final' present",
      "success": true,
      "details": "Value: 30.67",
      "timestamp": "2025-09-24T06:18:33.931977"
    },
    {
      "test": "Price field 'margen_utilidad' present",
      "success": true,
      "details": "Value: 25.0",
      "timestamp": "2025-09-24T06:18:33.931980"
    },
    {
      "test": "Low stock alert detection",
      "success": true,
      "details": "Found 2 low stock medications",
      "timestamp": "2025-09-24T06:18:34.006032"
    },
    {
      "test": "Expiration alert detection",
      "success": true,
      "details": "Found 2 medications expiring in 60 days",
      "timestamp": "2025-09-24T06:18:34.045531"
    },
    {
      "test": "Create cosmetic product",
      "success": true,
      "details": "Product ID: bdb797b5-6e42-4edb-bbbb-e96ec15eadd9",
      "timestamp": "2025-09-24T06:18:34.125306"
    },
    {
      "test": "Cosmetics category assignment",
      "success": true,
      "details": "",
      "timestamp": "2025-09-24T06:18:34.125318"
    },
    {
      "test": "Search cosmetics by category",
      "success": true,
      "details": "Found 2 cosmetic products",
      "timestamp": "2025-09-24T06:18:34.201953"
    },
    {
      "test": "Create appointment",
      "success": true,
      "details": "Appointment ID: e5b1515e-c089-4437-907c-36bf01bd4a0f",
      "timestamp": "2025-09-24T06:18:34.270838"
    },
    {
      "test": "Get all appointments",
      "success": true,
      "details": "Found 2 appointments",
      "timestamp": "2025-09-24T06:18:34.316243"
    },
    {
      "test": "Get weekly appointments",
      "success": true,
      "details": "Found 0 weekly appointments",
      "timestamp": "2025-09-24T06:18:34.351614"
    },
    {
      "test": "Update appointment status",
      "success": true,
      "details": "",
      "timestamp": "2025-09-24T06:18:34.387251"
    },
    {
      "test": "Reject invalid token (security)",
      "success": true,
      "details": "",
      "timestamp": "2025-09-24T06:18:34.499423"
    }
  ]
}